function checkWebpSupport(){return new Promise(((t,e)=>{let n=new Image;n.onload=function(){t(document.querySelector("body").classList.add("webp"))},n.onerror=function(){e(document.querySelector("body").classList.remove("webp"))},n.src="img/check-webp/check.webp"}))}function getCoords(t){let e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}}function toggleActive(t,e=null){function n(){t.classList.add("__active")}function o(){t.classList.remove("__active")}null!==e&&(e?n():o()),null===e&&(t.classList.contains("__active")?o():n())}checkWebpSupport();class Header{constructor(){this.header=document.querySelector(".header"),this.toggleHeaderMenu(),this.setMainPadding(),window.addEventListener("resize",this.setMainPadding.bind(this))}toggleHeaderMenu(){const t=this.header.querySelector(".header__menu-button");t.addEventListener("click",(function(){toggleActive(t)}))}setMainPadding(){const t=document.querySelector(".main"),e=this.header.offsetHeight;t.style.paddingTop=`${e}px`}}function toggleNavsCol(){function t(t){t.forEach((t=>t.parentNode.classList.remove("__active")))}document.querySelectorAll(".navs").forEach((e=>{const n=e.querySelectorAll(".navs__title");n.forEach((e=>{e.addEventListener("click",(function(){e.parentNode.classList.contains("__active")?t(n):(t(n),function(t){t.parentNode.classList.add("__active")}(e))}))}))}))}function scrollNav(){function t(t){t.preventDefault();const e=this.getAttribute("href"),n=document.querySelector(e),o=document.querySelector(".header").offsetHeight,i=getCoords(n).top-o-60;window.scrollTo({top:i,behavior:"smooth"})}document.querySelectorAll('a[href*="#"]').forEach((e=>{e.getAttribute("href").split("#")[1].length>0&&e.addEventListener("click",t)}))}function scrollAnim(){let t=document.querySelectorAll('[class*="anim__object"]');if(t.length>0)for(let o of t){let i=getCoords(o),s=o.offsetHeight,c=(window.pageYOffset,5),a=window.innerHeight-window.innerHeight/c;function e(){o.classList.add("__animated")}function n(){o.classList.contains("__unlock-anim")&&o.classList.remove("__animated")}window.pageYOffset>i.top-a&&window.pageYOffset<s+i.top?e():n()}}function typeTextAnim(){function t(t){t.forEach((t=>{const n=t.target;if("class"===t.attributeName){const o=!t.oldValue.split(" ").includes("__animated"),i=n.classList.contains("__animated");o&&i&&e(n)}}))}function e(t){t.textContent;const e=t.dataset.textContent;if("true"!==t.dataset.isTyping){t.dataset.isTyping="true",t.textContent="";const n=e.split("");for(let e=0;e<n.length;e++){const o=150*e,i=n[e];setTimeout((()=>{t.textContent+=i,e===n.length-1&&(t.dataset.isTyping="false")}),o)}}}document.querySelectorAll('[class*="anim__object-text"]').forEach((n=>function(n){!function(t){t.dataset.textContent||(t.dataset.textContent=t.textContent);t.textContent=""}(n);const o=n.classList.contains("__animated");if(!o){new MutationObserver(t).observe(n,{attributes:!0,attributeOldValue:!0})}o&&e(n)}(n)))}new Header,toggleNavsCol(),scrollNav(),typeTextAnim(),scrollAnim(),window.addEventListener("scroll",scrollAnim);