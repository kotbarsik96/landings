import{_ as M,e as f,m as x,f as C,V as S,g as c,i as l,j as a,k as e,E as H,x as d,F as u,u as m,l as _,q as n,s as i,t as N,R as V,v as r}from"./index.5c8231f2.js";import{C as P}from"./CommentsBlock.6388f9ac.js";import{c as R}from"./breadcrumbs.f9af167a.js";import{a as A}from"./BlogCardSmall.93405d3c.js";const E={name:"BlogItemPage",components:{CommentsBlock:P,BlogCard:A},data(){return{rootPath:f,user:!1}},computed:{...x(["blogs","users"]),blogId(){return this.$route.params.blogId},blog(){return this.blogs.find(t=>t.id===this.blogId)||null},pageRouteTitle(){return this.blog?this.blog.title:""},previousBreadcrumbs(){return this.blog?{title:"\u0411\u043B\u043E\u0433\u0438",routeTo:{name:"blogs"}}:{routeTo:{name:"blogs"}}},blogAuthor(){return this.users.find(t=>t.id===this.blog.authorId)||{}}},methods:{...C(["loadJsonFile"]),...S(["addModal"]),createBreadcrumbs:R,parseParagraph(t){return t},parseTitle(t){return t},nodeIsMedia(t){return["image","video"].includes(t.type)},nodeSrc(t){return t.isNoLocal?t.path:typeof t=="string"?`${f}img/blogs/${this.blog.id}/${t}`:`${f}img/blogs/${this.blog.id}/${t.path}`},parseIframe(t){return t.path&&t.path.includes("iframe")?t.path:null}},watch:{pageRouteTitle(){this.createBreadcrumbs()}},created(){this.loadJsonFile("blogs"),this.createBreadcrumbs()}},F={key:0,class:"blogitem-page"},J={class:"blogitem-page__head"},O={class:"blogitem-page__head-wrapper blog-wrapper"},W={class:"blogitem-page__head-info blog-wrapper__aside info-table"},j={class:"info-table__item"},q=e("td",{class:"info-table__name"},"\u0414\u0430\u0442\u0430:",-1),z={class:"info-table__value"},G={class:"info-table__item"},K=e("td",{class:"info-table__name"},"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:",-1),Q={class:"info-table__value"},U={class:"info-table__item"},X=e("td",{class:"info-table__name"},"\u0410\u0432\u0442\u043E\u0440:",-1),Y={class:"info-table__value"},Z={class:"blogitem-page__head-title blog-wrapper__main"},D={class:"blogitem-page__content"},$={class:"container"},ee={class:"blog-wrapper"},te={class:"blog-content__aside blog-wrapper__aside"},se={class:"blog-content__aside-item"},oe=e("h4",{class:"blog-content__aside-title"},"\u0422\u0435\u0433\u0438",-1),le={class:"blog-content__aside-content blog-content__tags"},ae=r(" \u041E\u0431\u0440\u0430\u0442\u043D\u043E \u043A \u0431\u043B\u043E\u0433\u0430\u043C "),ne={class:"blog-content__main blog-wrapper__main"},ie={key:0,class:"blog-content__text-block"},_e=["innerHTML"],re=["innerHTML"],ce={key:1,class:"blog-content__media"},de={key:0,class:"blog-content__media-wrapper"},ue=["src","alt"],ge=["src"],me=["innerHTML"],be={key:2,class:"blog-content__media-title"},he=V('<div class="blog-content__share"><h4 class="title">\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F:</h4><button class="button __icon-vk --small">VK</button><button class="button __icon-twitter --small"> Twitter </button><button class="button __icon-linkedin --small"> LinkedIn </button></div>',1),pe={class:"blogitem-page__comments-section"},fe={class:"container"},ve={class:"blogitem-page__reply blog-wrapper"},ye={class:"blog-wrapper__main leave-reply"},ke=e("h3",{class:"leave-reply__title"},"\u041E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",-1),Ie={class:"leave-reply__account"},we={class:"leave-reply__signin"},Te=r(" \u0423\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442? "),Be=r(", \u0447\u0442\u043E\u0431\u044B \u043E\u0442\u0432\u0435\u0442\u0438\u0442\u044C "),Le={key:0,class:"leave-reply__account-inputs"},Me=r("\u0418\u043C\u044F"),xe=r("Email"),Ce=r("\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u043C\u044F \u0438 email \u0432 \u044D\u0442\u043E\u043C \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u0434\u043B\u044F \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0445 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0435\u0432"),Se={key:0,class:"leave-reply__comment"},He=r("\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439"),Ne=e("button",{class:"button button--colored"}," \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 ",-1),Ve={class:"blogitem-page__comments blog-wrapper"},Pe=r(" \u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438 "),Re=r(" \u041F\u043E\u0445\u043E\u0436\u0438\u0435 \u0442\u0435\u043C\u044B "),Ae=r(" \u041A \u0431\u043B\u043E\u0433\u0430\u043C "),Ee={class:"cards-list"};function Fe(t,b,Je,Oe,g,o){const v=c("RouterLink"),h=c("InputText"),p=c("InputWrapper"),y=c("InputOption"),k=c("CommentsBlock"),I=c("BlogCard"),w=c("HeadlinedSection");return o.blog?(l(),a("main",F,[e("section",J,[e("div",{class:"blogitem-page__head-container",style:H({backgroundImage:`linear-gradient(0deg, #000000 0%, rgba(0, 0, 0, 0) 100%), url(${g.rootPath}img/blogs/${o.blog.id}/${o.blog.image})`})},[e("div",O,[e("table",W,[e("tr",j,[q,e("td",z,d(o.blog.date),1)]),e("tr",G,[K,e("td",Q,d(o.blog.category),1)]),e("tr",U,[X,e("td",Y,d(o.blogAuthor.name),1)])]),e("h1",Z,d(o.blog.title),1)])],4)]),e("section",D,[e("div",$,[e("div",ee,[e("div",te,[e("div",se,[oe,e("div",le,[(l(!0),a(u,null,m(o.blog.tags,s=>(l(),a("div",{class:"tag--colored",key:s},d(s),1))),128))])]),_(v,{class:"button--transparent __icon-directions-left",to:{name:"blogs"}},{default:n(()=>[ae]),_:1})]),e("div",ne,[(l(!0),a(u,null,m(o.blog.content,(s,T)=>(l(),a(u,{key:T},[s.type==="text"?(l(),a("div",ie,[s.title?(l(),a("h4",{key:0,class:"blog-content__text-title",innerHTML:o.parseTitle(s.title)},null,8,_e)):i("",!0),(l(!0),a(u,null,m(s.list,(B,L)=>(l(),a("p",{class:"blog-content__paragraph",key:L,innerHTML:o.parseParagraph(B)},null,8,re))),128))])):i("",!0),o.nodeIsMedia(s)?(l(),a("div",ce,[o.parseIframe(o.nodeSrc)?i("",!0):(l(),a("div",de,[s.type==="image"?(l(),a("img",{key:0,src:o.nodeSrc(s.src),alt:s.title||""},null,8,ue)):i("",!0),s.type==="video"&&!s.src.isNoLocal?(l(),a("video",{key:1,src:o.nodeSrc(s.src),controls:""},null,8,ge)):i("",!0)])),o.parseIframe(s.src)?(l(),a("div",{key:1,class:"blog-content__media-wrapper",innerHTML:o.parseIframe(s.src)},null,8,me)):i("",!0),s.title?(l(),a("h5",be,d(s.title),1)):i("",!0)])):i("",!0)],64))),128)),he])])])]),e("section",pe,[e("div",fe,[e("div",ve,[e("div",ye,[ke,e("div",Ie,[e("div",we,[Te,e("button",{href:"#",class:"link--underlined link--uncolored",onClick:b[0]||(b[0]=s=>t.addModal("ModalAccount"))}," \u0412\u043E\u0439\u0434\u0438\u0442\u0435"),Be]),g.user?(l(),a("div",Le,[_(p,null,{label:n(()=>[Me]),default:n(()=>[_(h,{name:"signin-user",placeholder:"\u0418\u043C\u044F"})]),_:1}),_(p,null,{label:n(()=>[xe]),default:n(()=>[_(h,{name:"signin-user",placeholder:"Email \u0430\u0434\u0440\u0435\u0441"})]),_:1})])):i("",!0),g.user?(l(),N(y,{key:1,name:"signin-user",class:"leave-reply__account-checkbox"},{default:n(()=>[Ce]),_:1})):i("",!0)]),g.user?(l(),a("div",Se,[_(p,null,{label:n(()=>[He]),default:n(()=>[_(h,{type:"textarea",name:"blog-comment",placeholder:"\u041C\u0435\u0441\u0442\u043E \u0434\u043B\u044F \u0432\u0430\u0448\u0435\u0433\u043E \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u044F",rows:"5"})]),_:1}),Ne])):i("",!0)])]),e("div",Ve,[_(k,{class:"blogitem-page__comments blog-wrapper__main",comments:o.blog.comments},{default:n(()=>[Pe]),_:1},8,["comments"])])])]),_(w,null,{button:n(()=>[_(v,{to:{name:"blogs"},class:"button--transparent"},{default:n(()=>[Ae]),_:1})]),content:n(()=>[e("div",Ee,[(l(),a(u,null,m(4,s=>_(I,{key:s,blogData:t.blogs[s-1]},null,8,["blogData"])),64))])]),default:n(()=>[Re]),_:1})])):i("",!0)}var Ge=M(E,[["render",Fe]]);export{Ge as default};
