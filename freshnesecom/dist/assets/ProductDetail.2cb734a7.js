import{_ as k,i as o,j as r,F as h,u as v,k as t,x as a,s as d,e as P,g as _,t as b,B as y,l as m,q as g,z as L,T as S,S as W,m as $,M as D,N,f as O,K as V,O as F,P as j,E as A,v as B}from"./index.7dd486d0.js";import{c as z}from"./breadcrumbs.f9af167a.js";import{C as T}from"./CommentsBlock.8848ccde.js";const Q={name:"ProdInfoDescriptions",props:{product:Object}},E={class:"text-block__title"},G={key:0,class:"text-block__text"},H={key:1,class:"text-block__table table"},J={class:"table__title"};function K(n,s,u,p,i,e){return o(),r("div",null,[(o(!0),r(h,null,v(u.product.description,c=>(o(),r("div",{class:"info-tab__text-block text-block",key:c.title},[t("h5",E,a(c.title),1),c.text?(o(),r("p",G,a(c.text),1)):d("",!0),c.table?(o(),r("div",H,[(o(!0),r(h,null,v(c.table,f=>(o(),r("div",{class:"table__col",key:f.title},[t("div",J,a(f.title),1),(o(!0),r(h,null,v(f.cells,(C,I)=>(o(),r("div",{class:"table__cell",key:I},a(C),1))),128))]))),128))])):d("",!0)]))),128))])}var M=k(Q,[["render",K]]);const U={name:"ProdInfoReviews",components:{CommentsBlock:T},props:{product:{type:Object,required:!0}},computed:{reviews(){return this.product.reviews}},data(){return{rootPath:P}}},X={key:0,class:"title"};function Y(n,s,u,p,i,e){const c=_("CommentsBlock");return o(),r("div",null,[e.reviews?d("",!0):(o(),r("h4",X," \u041E\u0442\u0437\u044B\u0432\u043E\u0432 \u043A \u044D\u0442\u043E\u043C\u0443 \u0442\u043E\u0432\u0430\u0440\u0443 \u0435\u0449\u0435 \u043D\u0438\u043A\u0442\u043E \u043D\u0435 \u043E\u0441\u0442\u0430\u0432\u043B\u044F\u043B ")),e.reviews?(o(),b(c,{key:1,comments:e.reviews},null,8,["comments"])):d("",!0)])}var Z=k(U,[["render",Y]]);const tt={name:"ProdInfoQuestions",components:{CommentsBlock:T},props:{product:{type:Object,required:!0}},computed:{questions(){return this.product.questions}},data(){return{rootPath:P}}},et={key:0,class:"title"};function ot(n,s,u,p,i,e){const c=_("CommentsBlock");return o(),r("div",null,[e.questions?d("",!0):(o(),r("h4",et," \u0412\u043E\u043F\u0440\u043E\u0441\u044B \u043A \u044D\u0442\u043E\u043C\u0443 \u0442\u043E\u0432\u0430\u0440\u0443 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442 ")),e.questions?(o(),b(c,{key:1,comments:e.questions},null,8,["comments"])):d("",!0)])}var st=k(tt,[["render",ot]]);const rt={name:"ProductInfo",components:{ProdInfoDescription:M,ProdInfoReviews:Z,ProdInfoQuestions:st},props:{product:Object},data(){return{currentContent:"description"}},computed:{currentComponent(){switch(this.currentContent){case"reviews":return"ProdInfoReviews";case"questions":return"ProdInfoQuestions";default:return"ProdInfoDescription"}}}},ct={class:"info-tab"},nt={class:"info-tab__controls"},it=t("span",{class:"info-tab__controls-title"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),at=t("div",{class:"tag--colored"},"122",-1),dt=[it,at],ut=t("span",{class:"info-tab__controls-title"},"\u041E\u0442\u0437\u044B\u0432\u044B",-1),_t=t("div",{class:"tag--colored"},"15",-1),lt=[ut,_t],pt=t("span",{class:"info-tab__controls-title"},"\u0412\u043E\u043F\u0440\u043E\u0441\u044B",-1),mt=t("div",{class:"tag--colored"},"4",-1),ht=[pt,mt],ft={class:"info-tab__content"};function gt(n,s,u,p,i,e){return o(),r("div",ct,[t("div",nt,[t("div",{class:y(["info-tab__controls-item",{__active:i.currentContent==="description"}]),onClick:s[0]||(s[0]=c=>i.currentContent="description")},dt,2),t("div",{class:y(["info-tab__controls-item",{__active:i.currentContent==="reviews"}]),onClick:s[1]||(s[1]=c=>i.currentContent="reviews")},lt,2),t("div",{class:y(["info-tab__controls-item",{__active:i.currentContent==="questions"}]),onClick:s[2]||(s[2]=c=>i.currentContent="questions")},ht,2)]),t("div",ft,[m(S,{name:"prodinfo-content",mode:"out-in"},{default:g(()=>[(o(),b(L(e.currentComponent),{key:i.currentContent,product:u.product},null,8,["product"]))]),_:1})])])}var vt=k(rt,[["render",gt]]);const bt={name:"ProductDetail",components:{StarRating:W,InfoTab:vt},data(){return{rootPath:P,amount:1}},computed:{...$(["products","wishlist","categories"]),productId(){return this.$route.params.productId},product(){if(this.$route.name==="product")return this.getRouteParamOrNotFound(this.productId,this.products,"id")},productCategory(){if(this.product){const n=this.categories.find(s=>s.id===this.product.category);return n?{id:n.id,title:n.title}:{}}return{}},isInStock(){return this.product.stock},discount(){const n=this.product.oldPrice,s=this.product.price;return D(n,s)},isInWishList:N,similarProducts(){return this.product?this.products.filter(u=>u.category===this.product.category).filter((u,p)=>p<4):null},pageRouteTitle(){return this.product?this.product.title:""},previousBreadcrumbs(){const n=this.productCategory.title||"title",s=this.productCategory.id||"categoryId";return{title:n,routeTo:{name:"category",params:{categoryId:s}}}}},methods:{...O(["loadJsonFile"]),getRouteParamOrNotFound:V,toggleWishList:F,createBreadcrumbs:z,addToCart(){j(this.productId,this.amount)}},watch:{pageRouteTitle(){this.createBreadcrumbs()}},created(){this.loadJsonFile("products"),this.createBreadcrumbs()}},kt={class:"product-page"},yt={class:"product-page__container"},Ct={class:"product-page__headline"},It={class:"product-page__title"},Pt={class:"product-page__rating"},xt={class:"product-page__rating-text"},Bt={class:"product-page__descr"},Tt={class:"product-page__images-block"},wt={key:0,class:"product-page__image-tags-block"},Rt={key:0,class:"tag--colored"},qt=["src","alt"],Lt={class:"product-page__info"},St={class:"product-page__info-table info-table"},Wt={class:"info-table__item"},$t=t("td",{class:"info-table__name"},"\u041D\u043E\u043C\u0435\u0440:",-1),Dt={class:"info-table__value"},Nt={class:"info-table__item"},Ot=t("td",{class:"info-table__name"},"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:",-1),Vt={class:"info-table__value --underlined"},Ft={class:"info-table__item"},jt=t("td",{class:"info-table__name"},"\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438:",-1),At={class:"product-page__bordered-block bordered-block"},zt={class:"bordered-block__prices price-block"},Qt={class:"price-block__current"},Et={class:"price-block__old"},Gt={class:"bordered-block__controls"},Ht={class:"product-page__controls"},Jt=B(" \u041F\u043E\u0445\u043E\u0436\u0438\u0435 \u0442\u043E\u0432\u0430\u0440\u044B "),Kt=B(" \u0411\u043E\u043B\u044C\u0448\u0435 \u0442\u043E\u0432\u0430\u0440\u043E\u0432 "),Mt={class:"cards-list"};function Ut(n,s,u,p,i,e){const c=_("StarRating"),f=_("InputNumbers"),C=_("WishlistButton"),I=_("InfoTab"),w=_("RouterLink"),R=_("ProductCard"),q=_("HeadlinedSection");return o(),r("main",kt,[e.product?(o(),r(h,{key:0},[t("div",yt,[t("div",Ct,[t("h1",It,a(e.product.title),1),t("div",Pt,[m(c,{class:"product-page__rating-items",starsAmount:e.product.rating.value},null,8,["starsAmount"]),t("div",xt," \u041E\u0446\u0435\u043D\u043E\u043A: "+a(e.product.rating.amount),1)]),t("p",Bt,a(e.product.subtitle),1)]),t("div",Tt,[(o(!0),r(h,null,v(e.product.images,(l,x)=>(o(),r("div",{class:"product-page__image",key:l},[x===0?(o(),r("div",wt,[e.discount?(o(),r("div",Rt," -"+a(e.discount)+"% ",1)):d("",!0)])):d("",!0),t("img",{src:e.productCategory.id?`${i.rootPath}img/products/${e.productCategory.id}/${e.productId}/${l}`:"",alt:e.product.title+" "+x},null,8,qt)]))),128))]),t("div",Lt,[t("table",St,[t("tr",Wt,[$t,t("td",Dt,a(e.product.id),1)]),t("tr",Nt,[Ot,t("td",Vt,a(e.productCategory.title),1)]),t("tr",Ft,[jt,t("td",{class:"info-table__value --underlined",style:A({color:e.isInStock?"var(--clr-2_A)":"var(--clr-4_A)"})},a(e.isInStock?"\u0415\u0441\u0442\u044C":"\u041D\u0435\u0442"),5)])]),t("div",At,[t("div",zt,[t("div",Qt,a(e.product.price)+" \u0440\u0443\u0431. ",1),t("div",Et,a(e.product.oldPrice),1)]),t("div",Gt,[e.product.stock?(o(),b(f,{key:0,min:1,max:100,modelValue:i.amount,"onUpdate:modelValue":s[0]||(s[0]=l=>i.amount=l),name:"product-amount"},null,8,["modelValue"])):d("",!0),t("button",{class:y(["bordered-block__control button--colored __icon-actions-add_simple",{"button--inactive":!e.product.stock}]),onClick:s[1]||(s[1]=()=>e.product.stock?e.addToCart():!1)}," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443 ",2)])]),t("div",Ht,[m(C,{class:"product-page__control",isInWishList:e.isInWishList,onWishlistToggle:e.toggleWishList},null,8,["isInWishList","onWishlistToggle"])]),m(I,{class:"product-page__product-info",product:e.product},null,8,["product"])])]),m(q,null,{button:g(()=>[m(w,{to:{name:"category",params:{categoryId:e.product.category}},class:"button--transparent"},{default:g(()=>[Kt]),_:1},8,["to"])]),content:g(()=>[t("div",Mt,[(o(!0),r(h,null,v(e.similarProducts,l=>(o(),b(R,{key:l.id,id:l.id},null,8,["id"]))),128))])]),default:g(()=>[Jt]),_:1})],64)):d("",!0)])}var te=k(bt,[["render",Ut]]);export{te as default};
