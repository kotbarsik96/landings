function checkWebpSupport(){return new Promise(((e,t)=>{let n=new Image;n.onload=function(){e(document.querySelector("body").classList.add("webp"))},n.onerror=function(){t(document.querySelector("body").classList.remove("webp"))},n.src="img/check-webp/check.webp"}))}function getCoords(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}function toggleActive(e,t=null){function n(){e.classList.add("__active")}function o(){e.classList.remove("__active")}null!==t&&(t?n():o()),null===t&&(e.classList.contains("__active")?o():n())}checkWebpSupport();class Header{constructor(){this.header=document.querySelector(".header"),this.headerButtonHandler(),this.fixOnScroll(),this.setSectionPadding()}headerButtonHandler(){const e=this.header.querySelector(".header__menu-button");document.body;e.addEventListener("click",(()=>this.toggleHeaderMenu()))}toggleHeaderMenu(){const e=this.header.querySelector(".header__menu-button");toggleActive(e),e.classList.contains("__active")?document.body.classList.add("__no-scroll"):document.body.classList.remove("__no-scroll")}fixOnScroll(){const e=()=>{window.pageYOffset>this.header.offsetHeight?this.header.classList.add("__scrolled"):this.header.classList.remove("__scrolled")};e(),window.addEventListener("scroll",e)}setSectionPadding(){const e=()=>{const e=document.querySelector("section"),t=this.header.offsetHeight;e&&(e.style.paddingTop=`${t}px`)};e(),window.addEventListener("resize",e)}}const headerControl=new Header;function toggleNavsCol(){function e(e){e.forEach((e=>e.parentNode.classList.remove("__active")))}document.querySelectorAll(".navs").forEach((t=>{const n=t.querySelectorAll(".navs__title");n.forEach((t=>{t.addEventListener("click",(function(){t.parentNode.classList.contains("__active")?e(n):(e(n),function(e){e.parentNode.classList.add("__active")}(t))}))}))}))}function scrollAnim(){const e=Array.from(document.querySelectorAll("[data-anim]")).map((e=>{const t=e.dataset.anim.search(/repeat/i)>=0,n=e.dataset.anim.search(/queue/i)>=0,o=e.dataset.anim.match(/\d/g),s=o?parseInt(o.join("")):500;e.style.transitionDuration=s/1e3+"s";let i=e.dataset.animNum;return i||(i="1",e.dataset.animNum="1"),{el:e,isRepeatable:t,isQueued:n,duration:s,animClass:"__animated--"+i}})),t=[],n=document.documentElement.offsetHeight-document.documentElement.offsetHeight/5;function o(){const t=window.pageYOffset;e.forEach((e=>{const o=getCoords(e.el).top,a=t>=o-n&&t<=o+e.el.offsetHeight;e.isVisible=a,!a&&e.isRepeatable?function(e){e.el.classList.remove(e.animClass)}(e):a&&!e.el.classList.contains(e.animClass)&&(e.isQueued?s(e):i(e))}))}function s(e=null){if(e&&!t.includes(e)&&t.push(e),t.length>0)for(let e=0;e<t.length;e++)if(t[e].isVisible){i(t[e]).then(s).catch((()=>{}));break}}function i(e){return new Promise(((n,o)=>{e.isAnimating?o():(e.isAnimating=!0,e.el.classList.add(e.animClass),setTimeout((()=>{e.isAnimating=!1,t.splice(t.indexOf(e),1),n()}),e.duration))}))}o(),window.addEventListener("scroll",o)}function navAnchors(){function e(e){e.preventDefault();const t="A"===e.target.tagName?e.target:e.target.querySelector("a[href='#']"),n=document.querySelector(t.getAttribute("href"));n&&(document.querySelector(".header__menu-button.__active")&&headerControl.toggleHeaderMenu(),setTimeout((()=>{window.scrollTo({top:getCoords(n).top-100,behavior:"smooth"})}),0))}Array.from(document.querySelectorAll("[href^='#']")).filter((e=>e.getAttribute("href").length>1)).forEach((t=>{t.addEventListener("click",e)}))}toggleNavsCol(),scrollAnim(),navAnchors();